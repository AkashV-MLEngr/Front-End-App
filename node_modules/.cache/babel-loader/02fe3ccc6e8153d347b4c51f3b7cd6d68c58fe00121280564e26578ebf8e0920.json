{"ast":null,"code":"import React,{useEffect,useState}from'react';import{linkDeleteProperty,linkGetSellerProperties}from'../api_links';import axios from'axios';import{Card,Row,Col,Button,InputGroup,CardBody}from'react-bootstrap';import EditPropertyForm from'./EditPropertyForm';import Alerts from'../Alert';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";;const SellerProperties=_ref=>{let{userId}=_ref;const[alertMessage,setAlertMessage]=useState(null);const[alertVariant,setAlertVariant]=useState(undefined);const[showPropertyFormModal,setShowPropertyFormModal]=useState(false);const[editingProperty,setEditingProperty]=useState(undefined);const[properties,setProperties]=useState([]);useEffect(()=>{fetchProperties();},[userId]);const fetchProperties=async()=>{try{const response=await axios.get(\"\".concat(linkGetSellerProperties.replace(':id',\"\".concat(userId))));setProperties(response.data);}catch(error){console.error('Something went wrong, please try again',error);}};const handleShowPropertyFormModal=property=>{setEditingProperty(property);setShowPropertyFormModal(true);};const handleClosePropertyFormModal=()=>{setShowPropertyFormModal(false);setEditingProperty(undefined);fetchProperties();// Refresh properties list after add/update\n};//     Delete Property\nconst handleDelete=async propertyId=>{try{await axios.delete(linkDeleteProperty.replace(':id',\"\".concat(propertyId)));setAlertMessage('Property deleted Successfully.');setAlertVariant('danger');window.location.reload();}catch(error){console.error('Error deleting post:',error);setAlertMessage('Property delete error.');setAlertVariant('danger');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Alerts,{alertMessage:alertMessage,alertVariant:alertVariant,setAlertMessage:setAlertMessage})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Row,{xs:1,md:2,className:\"g-4\",children:properties&&properties.map((property,index)=>/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Row,{className:\"g-0\",style:{width:'595px'},children:[/*#__PURE__*/_jsx(Col,{className:\"col-md-4\",children:/*#__PURE__*/_jsx(Card.Img,{className:\"img-fluid rounded-start\",src:\"/images/img.jpg\"})}),/*#__PURE__*/_jsx(Col,{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[property.title,\", \\u20B9\",property.price]}),/*#__PURE__*/_jsxs(Card.Text,{children:[property.location,\" | \",property.bedrooms,\" | sq.ft.\",property.area,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Nearby:\"}),\" \",property.near_by]}),/*#__PURE__*/_jsxs(Card.Text,{children:[property.description,/*#__PURE__*/_jsxs(InputGroup,{className:\"m-1 ms-5 \",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>handleShowPropertyFormModal(property),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:()=>handleDelete(property.id),children:\"Delete\"})]})]})]})})]})},property.id)},index))}),/*#__PURE__*/_jsx(EditPropertyForm,{show:showPropertyFormModal,handleClose:handleClosePropertyFormModal,userId:userId})]})]});};export default SellerProperties;","map":{"version":3,"names":["React","useEffect","useState","linkDeleteProperty","linkGetSellerProperties","axios","Card","Row","Col","Button","InputGroup","CardBody","EditPropertyForm","Alerts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SellerProperties","_ref","userId","alertMessage","setAlertMessage","alertVariant","setAlertVariant","undefined","showPropertyFormModal","setShowPropertyFormModal","editingProperty","setEditingProperty","properties","setProperties","fetchProperties","response","get","concat","replace","data","error","console","handleShowPropertyFormModal","property","handleClosePropertyFormModal","handleDelete","propertyId","delete","window","location","reload","children","className","xs","md","map","index","style","width","Img","src","Title","title","price","Text","bedrooms","area","near_by","description","variant","onClick","id","show","handleClose"],"sources":["D:/New folder/first-app/src/components/seller/SellerProperties.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { linkDeleteProperty, linkGetAllProperties, linkGetSellerProperties } from '../api_links';\r\nimport axios from 'axios';\r\nimport {Card, Row, Col, Button, InputGroup, CardBody} from 'react-bootstrap';\r\nimport PropertyFormModal from './AddPropertyForm';\r\nimport EditPropertyFormModal from './PropertyFormModal';\r\nimport EditPropertyForm from './EditPropertyForm';\r\nimport Alerts from '../Alert';\r\n\r\ninterface SellerPropertiesProps {\r\n  show: boolean;\r\n  handleClose: () => void;\r\n  userId: number;\r\n}\r\ninterface DeletePostButtonProps {\r\n  propertyId: number;\r\n  onDeleteSuccess: () => void;\r\n}\r\ninterface propertyProps{\r\n    id:number;\r\n    title:string;\r\n    description:string;\r\n    location:string;\r\n    area:string;\r\n    bedrooms:string;\r\n    bathrooms:string;\r\n    price:number;\r\n    near_by:string;\r\n    seller_id: Number;\r\n};\r\n\r\nconst SellerProperties:React.FC<SellerPropertiesProps> = ({ userId }) => {\r\n  const [alertMessage, setAlertMessage] = useState<string | null>(null);\r\n  const [alertVariant, setAlertVariant] = useState<string | undefined>(undefined);\r\n    const [showPropertyFormModal, setShowPropertyFormModal] = useState<boolean>(false);\r\n    const [editingProperty, setEditingProperty] = useState<propertyProps | undefined>(undefined);\r\n    const [properties, setProperties] = useState<propertyProps[]>([]);\r\n\r\n    useEffect(() => {\r\n      fetchProperties();\r\n    }, [userId]);\r\n  \r\n    const fetchProperties = async () => {\r\n      try {\r\n        const response = await axios.get<propertyProps[]>(`${linkGetSellerProperties.replace(':id', `${userId}`)}`);\r\n        setProperties(response.data);\r\n      } catch (error) {\r\n        console.error('Something went wrong, please try again', error);\r\n      }\r\n    };\r\n  \r\n    const handleShowPropertyFormModal = (property?: propertyProps) => {\r\n      setEditingProperty(property);\r\n      setShowPropertyFormModal(true);\r\n    };\r\n  \r\n    const handleClosePropertyFormModal = () => {\r\n      setShowPropertyFormModal(false);\r\n      setEditingProperty(undefined);\r\n      fetchProperties(); // Refresh properties list after add/update\r\n    };\r\n    //     Delete Property\r\n    const handleDelete = async (propertyId:number) => {\r\n      try {\r\n        await axios.delete(linkDeleteProperty.replace(':id',`${propertyId}`));\r\n        setAlertMessage('Property deleted Successfully.');\r\n        setAlertVariant('danger');\r\n        window.location.reload();\r\n        \r\n      } catch (error) {\r\n        console.error('Error deleting post:', error);\r\n        setAlertMessage('Property delete error.');\r\n        setAlertVariant('danger');\r\n      }\r\n    };\r\n\r\n  return (\r\n    <><div>\r\n      <Alerts alertMessage={alertMessage} alertVariant={alertVariant} setAlertMessage={setAlertMessage} />\r\n    </div>\r\n    <div className='mt-3'>\r\n        <Row xs={1} md={2} className=\"g-4\">\r\n          {properties && properties.map((property, index) => (\r\n            <Col key={index}>\r\n              <Card key={property.id}>\r\n                <Row className='g-0' style={{ width: '595px' }}>\r\n                  <Col className='col-md-4'>\r\n                    <Card.Img className='img-fluid rounded-start' src=\"/images/img.jpg\" />\r\n                  </Col>\r\n                  <Col className='col-md-8'>\r\n                    <CardBody>\r\n                      <Card.Title>{property.title}, â‚¹{property.price}</Card.Title>\r\n                      <Card.Text>{property.location} | {property.bedrooms} | sq.ft.{property.area}\r\n                        <br /><span className='text-muted'>Nearby:</span> {property.near_by}\r\n                      </Card.Text>\r\n                      <Card.Text>\r\n                        {property.description}\r\n                        <InputGroup className=\"m-1 ms-5 \">\r\n                          <Button variant=\"outline-secondary\" onClick={() => handleShowPropertyFormModal(property)}>\r\n                            Edit\r\n                          </Button>\r\n                          <Button variant=\"outline-danger\" onClick={() => handleDelete(property.id)}>\r\n                            Delete\r\n                          </Button>\r\n                        </InputGroup>\r\n                      </Card.Text>\r\n\r\n                    </CardBody>\r\n                  </Col>\r\n                </Row>\r\n              </Card>\r\n              {/* ))} */}\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n        <EditPropertyForm\r\n          show={showPropertyFormModal}\r\n          handleClose={handleClosePropertyFormModal}\r\n          userId={userId} />\r\n\r\n      </div></>\r\n\r\n  )\r\n}\r\n\r\nexport default SellerProperties"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}